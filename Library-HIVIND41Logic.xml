<?xml version="1.0" encoding="UTF-8"?>

<Library xmlns="http://hl7.org/fhir">
  <id value="HIVIND41Logic"/>
  <meta>
    <profile value="http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablelibrary"/>
    <profile value="http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-publishablelibrary"/>
    <profile value="http://hl7.org/fhir/uv/cql/StructureDefinition/cql-library"/>
    <profile value="http://hl7.org/fhir/uv/cql/StructureDefinition/cql-module"/>
  </meta>
  <text>
    <status value="generated"/><div xmlns="http://www.w3.org/1999/xhtml"><p class="res-header-id"><b>Generated Narrative: Library HIVIND41Logic</b></p><a name="HIVIND41Logic"> </a><a name="hcHIVIND41Logic"> </a><a name="hcHIVIND41Logic-en-US"> </a><h2>Contents</h2><p><code>text/cql</code></p><pre><code class="language-sql">/*
 * Library: HIV.IND.41 Logic
 * Ref No: VER.5
 * Short Name: ART coverage in breastfeeding mothers
 *
 * Definition: % of HIV-exposed breastfeeding infants whose mothers are receiving ART at 12 (and 24 months) postpartum
 *
 * Numerator: Number of HIV-exposed breastfeeding infants whose mothers are receiving ART at 12 months (and 24 months*) postpartum
 * Numerator Calculation: COUNT of infants who are an &quot;HIV-exposed infant or child&quot; AND whose mothers are &quot;Breastfeeding&quot; 12 months after &quot;Delivery date&quot; AND mothers with &quot;On ART&quot;=True 12 months after &quot;Delivery date&quot; |  | Also reported for 24 months after &quot;Delivery date&quot;
 * Numerator Exclusions: 
 *
 * Denominator: Number of HIV-exposed infants attending MNCH services for a 12-month visit (and 24-month visit or first visit after the end of breastfeeding)
 * Denominator Calculation: COUNT of infants who are an &quot;HIV-exposed infant or child&quot; AND [(whose mothers attend a 12-month &quot;Maternal and child health service visit&quot;) OR (first &quot;Maternal and child health service visit&quot; after &quot;Delivery date&quot; where mother is NOT &quot;Breastfeeding&quot;)] |  | Also reported for mothers attending 24-month &quot;Maternal and child health service visit&quot;
 * Denominator Exclusions: 
 *
 * Disaggregations:
 * • Age (&lt;15, 15–19, 20–24, 25+ years)
 * • Timing of ART initiation (already on ART at first ANC visit, newly on ART during pregnancy or labour and delivery)
 * • Cities and other administrative regions of epidemiologic importance
 * 
 * Disaggregation Elements: Age | Timing of ART initiation | Breastfeeding at 24 months
 *
 * Numerator and Denominator Elements:
 * Breastfeeding | Delivery date | HIV-exposed infant or child | Maternal and child health service visit | On ART
 *
 * Reference: Consolidated guidelines on person-centred HIV strategic information: strengthening routine data for impact. Geneva: World Health Organization; 2022
 * 
 * Data Concepts:
 *  
 * HIV.A.DE17: Age | Calculated age (number of years) of the client based on date of birth 
 * HIV.B.DE32: Breastfeeding | Infant is being breastfed by mother 
 * HIV.D.DE32: Breastfeeding | Client is giving infant breast milk 
 * HIV.D.DE38: On ART | Client is currently taking ART 
 * HIV.E.DE41: Timing of ART initiation | When the pregnant woman or mother initiated ART, for women living with HIV. 
 * HIV.E.DE42: Already on ART at first antenatal care visit | The pregnant woman was already on antiretroviral therapy (ART) at first antenatal care visit 
 * HIV.E.DE43: Newly on ART during pregnancy | The pregnant woman started ART during her pregnancy 
 * HIV.E.DE44: Newly on ART during labour and delivery | The woman started ART during labour and delivery 
 * HIV.E.DE46: Delivery date | Date on which the woman delivered 
 * HIV.E.DE112: HIV-exposed infant or child | Whether the infant or child was determined to have had HIV exposure 
 * HIV.E.DE173: Maternal and child health service visit | Maternal and child health service visit attended by an HIV-exposed infant 
 * HIV.E.DE174: 12-month visit | HIV-exposed infant attending MCH services for a 12-month visit 
 * HIV.E.DE175: 24-month visit | HIV-exposed infants attending MCH services for a 24-month visit 
 * HIV.E.DE176: First visit after the end of breastfeeding | HIV-exposed infant attending MCH services for a first visit after the end of breastfeeding 
 * HIV.H.DE47: On ART | Client is currently taking ART 
 *
 * Additional Context
 * - what it measures: This indicator measures the programme's ability to reduce the risk of transmission via breastfeeding (Prong 3 of the PMTCT strategy).
 * - rationale: • In many countries the average breastfeeding period is 18–24 months. The long breastfeeding period represents an important risk period for HIV-exposed infants. | • Ensuring that HIV-positive mothers are retained on ART, especially during the breastfeeding period, is critical to sustaining the health of the mother and preventing infection of her infant.
 * - method: For the numerator: Programme records (for example, PMTCT registers, ART registers). |  | For the denominator: Programme records (for example, MCH service records)
 * 
 * Suggested Scoring Method: proportion | http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/proportion-measure-cqfm
 */

library HIVIND41Logic

// Included Libraries
using FHIR version '4.0.1'

include HIVIndicatorCommon version '0.0.1' called HIC
include FHIRHelpers version '4.0.1'
include WHOCommon called WCom
include FHIRCommon called FC

// Indicator Definition
</code></pre><p><code>No Content</code> (<code>application/elm+xml</code>)</p></div>
  </text>
  <extension url="http://hl7.org/fhir/StructureDefinition/cqf-knowledgeCapability">
    <valueCode value="computable"/>
  </extension>
  <url value="http://smart.who.int/HIV/Library/HIVIND41Logic"/>
  <version value="0.1.0"/>
  <name value="HIVIND41Logic"/>
  <title value="HIV.IND.41 Logic"/>
  <status value="draft"/>
  <experimental value="true"/>
  <type>
    <coding>
      <system value="http://terminology.hl7.org/CodeSystem/library-type"/>
      <code value="logic-library"/>
    </coding>
  </type>
  <date value="2024-07-01T05:12:03+00:00"/>
  <publisher value="WHO"/>
  <contact>
    <name value="WHO"/>
    <telecom>
      <system value="url"/>
      <value value="http://who.int"/>
    </telecom>
  </contact>
  <description value="% of HIV-exposed breastfeeding infants whose mothers are receiving ART at 12 (and 24 months) postpartum"/>
  <content>
    <contentType value="text/cql"/>
    <data value="LyoKICogTGlicmFyeTogSElWLklORC40MSBMb2dpYwogKiBSZWYgTm86IFZFUi41CiAqIFNob3J0IE5hbWU6IEFSVCBjb3ZlcmFnZSBpbiBicmVhc3RmZWVkaW5nIG1vdGhlcnMKICoKICogRGVmaW5pdGlvbjogJSBvZiBISVYtZXhwb3NlZCBicmVhc3RmZWVkaW5nIGluZmFudHMgd2hvc2UgbW90aGVycyBhcmUgcmVjZWl2aW5nIEFSVCBhdCAxMiAoYW5kIDI0IG1vbnRocykgcG9zdHBhcnR1bQogKgogKiBOdW1lcmF0b3I6IE51bWJlciBvZiBISVYtZXhwb3NlZCBicmVhc3RmZWVkaW5nIGluZmFudHMgd2hvc2UgbW90aGVycyBhcmUgcmVjZWl2aW5nIEFSVCBhdCAxMiBtb250aHMgKGFuZCAyNCBtb250aHMqKSBwb3N0cGFydHVtCiAqIE51bWVyYXRvciBDYWxjdWxhdGlvbjogQ09VTlQgb2YgaW5mYW50cyB3aG8gYXJlIGFuICJISVYtZXhwb3NlZCBpbmZhbnQgb3IgY2hpbGQiIEFORCB3aG9zZSBtb3RoZXJzIGFyZSAiQnJlYXN0ZmVlZGluZyIgMTIgbW9udGhzIGFmdGVyICJEZWxpdmVyeSBkYXRlIiBBTkQgbW90aGVycyB3aXRoICJPbiBBUlQiPVRydWUgMTIgbW9udGhzIGFmdGVyICJEZWxpdmVyeSBkYXRlIiB8ICB8IEFsc28gcmVwb3J0ZWQgZm9yIDI0IG1vbnRocyBhZnRlciAiRGVsaXZlcnkgZGF0ZSIKICogTnVtZXJhdG9yIEV4Y2x1c2lvbnM6IAogKgogKiBEZW5vbWluYXRvcjogTnVtYmVyIG9mIEhJVi1leHBvc2VkIGluZmFudHMgYXR0ZW5kaW5nIE1OQ0ggc2VydmljZXMgZm9yIGEgMTItbW9udGggdmlzaXQgKGFuZCAyNC1tb250aCB2aXNpdCBvciBmaXJzdCB2aXNpdCBhZnRlciB0aGUgZW5kIG9mIGJyZWFzdGZlZWRpbmcpCiAqIERlbm9taW5hdG9yIENhbGN1bGF0aW9uOiBDT1VOVCBvZiBpbmZhbnRzIHdobyBhcmUgYW4gIkhJVi1leHBvc2VkIGluZmFudCBvciBjaGlsZCIgQU5EIFsod2hvc2UgbW90aGVycyBhdHRlbmQgYSAxMi1tb250aCAiTWF0ZXJuYWwgYW5kIGNoaWxkIGhlYWx0aCBzZXJ2aWNlIHZpc2l0IikgT1IgKGZpcnN0ICJNYXRlcm5hbCBhbmQgY2hpbGQgaGVhbHRoIHNlcnZpY2UgdmlzaXQiIGFmdGVyICJEZWxpdmVyeSBkYXRlIiB3aGVyZSBtb3RoZXIgaXMgTk9UICJCcmVhc3RmZWVkaW5nIildIHwgIHwgQWxzbyByZXBvcnRlZCBmb3IgbW90aGVycyBhdHRlbmRpbmcgMjQtbW9udGggIk1hdGVybmFsIGFuZCBjaGlsZCBoZWFsdGggc2VydmljZSB2aXNpdCIKICogRGVub21pbmF0b3IgRXhjbHVzaW9uczogCiAqCiAqIERpc2FnZ3JlZ2F0aW9uczoKICog4oCiIEFnZSAoPDE1LCAxNeKAkzE5LCAyMOKAkzI0LCAyNSsgeWVhcnMpCiAqIOKAoiBUaW1pbmcgb2YgQVJUIGluaXRpYXRpb24gKGFscmVhZHkgb24gQVJUIGF0IGZpcnN0IEFOQyB2aXNpdCwgbmV3bHkgb24gQVJUIGR1cmluZyBwcmVnbmFuY3kgb3IgbGFib3VyIGFuZCBkZWxpdmVyeSkKICog4oCiwqBDaXRpZXMgYW5kIG90aGVyIGFkbWluaXN0cmF0aXZlIHJlZ2lvbnMgb2YgZXBpZGVtaW9sb2dpYyBpbXBvcnRhbmNlCiAqIAogKiBEaXNhZ2dyZWdhdGlvbiBFbGVtZW50czogQWdlIHwgVGltaW5nIG9mIEFSVCBpbml0aWF0aW9uIHwgQnJlYXN0ZmVlZGluZyBhdCAyNCBtb250aHMKICoKICogTnVtZXJhdG9yIGFuZCBEZW5vbWluYXRvciBFbGVtZW50czoKICogQnJlYXN0ZmVlZGluZyB8IERlbGl2ZXJ5IGRhdGUgfCBISVYtZXhwb3NlZCBpbmZhbnQgb3IgY2hpbGQgfCBNYXRlcm5hbCBhbmQgY2hpbGQgaGVhbHRoIHNlcnZpY2UgdmlzaXQgfCBPbiBBUlQKICoKICogUmVmZXJlbmNlOiBDb25zb2xpZGF0ZWQgZ3VpZGVsaW5lcyBvbiBwZXJzb24tY2VudHJlZCBISVYgc3RyYXRlZ2ljIGluZm9ybWF0aW9uOiBzdHJlbmd0aGVuaW5nIHJvdXRpbmUgZGF0YSBmb3IgaW1wYWN0LiBHZW5ldmE6IFdvcmxkIEhlYWx0aCBPcmdhbml6YXRpb247IDIwMjIKICogCiAqIERhdGEgQ29uY2VwdHM6CiAqICAKICogSElWLkEuREUxNzogQWdlIHwgQ2FsY3VsYXRlZCBhZ2UgKG51bWJlciBvZiB5ZWFycykgb2YgdGhlIGNsaWVudCBiYXNlZCBvbiBkYXRlIG9mIGJpcnRoIAogKiBISVYuQi5ERTMyOiBCcmVhc3RmZWVkaW5nIHwgSW5mYW50IGlzIGJlaW5nIGJyZWFzdGZlZCBieSBtb3RoZXIgCiAqIEhJVi5ELkRFMzI6IEJyZWFzdGZlZWRpbmcgfCBDbGllbnQgaXMgZ2l2aW5nIGluZmFudCBicmVhc3QgbWlsayAKICogSElWLkQuREUzODogT24gQVJUIHwgQ2xpZW50IGlzIGN1cnJlbnRseSB0YWtpbmcgQVJUIAogKiBISVYuRS5ERTQxOiBUaW1pbmcgb2YgQVJUIGluaXRpYXRpb24gfCBXaGVuIHRoZSBwcmVnbmFudCB3b21hbiBvciBtb3RoZXIgaW5pdGlhdGVkIEFSVCwgZm9yIHdvbWVuIGxpdmluZyB3aXRoIEhJVi4gCiAqIEhJVi5FLkRFNDI6IEFscmVhZHkgb24gQVJUIGF0IGZpcnN0IGFudGVuYXRhbCBjYXJlIHZpc2l0IHwgVGhlIHByZWduYW50IHdvbWFuIHdhcyBhbHJlYWR5IG9uIGFudGlyZXRyb3ZpcmFsIHRoZXJhcHkgKEFSVCkgYXQgZmlyc3QgYW50ZW5hdGFsIGNhcmUgdmlzaXQgCiAqIEhJVi5FLkRFNDM6IE5ld2x5IG9uIEFSVCBkdXJpbmcgcHJlZ25hbmN5IHwgVGhlIHByZWduYW50IHdvbWFuIHN0YXJ0ZWQgQVJUIGR1cmluZyBoZXIgcHJlZ25hbmN5IAogKiBISVYuRS5ERTQ0OiBOZXdseSBvbiBBUlQgZHVyaW5nIGxhYm91ciBhbmQgZGVsaXZlcnkgfCBUaGUgd29tYW4gc3RhcnRlZCBBUlQgZHVyaW5nIGxhYm91ciBhbmQgZGVsaXZlcnkgCiAqIEhJVi5FLkRFNDY6IERlbGl2ZXJ5IGRhdGUgfCBEYXRlIG9uIHdoaWNoIHRoZSB3b21hbiBkZWxpdmVyZWQgCiAqIEhJVi5FLkRFMTEyOiBISVYtZXhwb3NlZCBpbmZhbnQgb3IgY2hpbGQgfCBXaGV0aGVyIHRoZSBpbmZhbnQgb3IgY2hpbGQgd2FzIGRldGVybWluZWQgdG8gaGF2ZSBoYWQgSElWIGV4cG9zdXJlIAogKiBISVYuRS5ERTE3MzogTWF0ZXJuYWwgYW5kIGNoaWxkIGhlYWx0aCBzZXJ2aWNlIHZpc2l0IHwgTWF0ZXJuYWwgYW5kIGNoaWxkIGhlYWx0aCBzZXJ2aWNlIHZpc2l0IGF0dGVuZGVkIGJ5IGFuIEhJVi1leHBvc2VkIGluZmFudCAKICogSElWLkUuREUxNzQ6IDEyLW1vbnRoIHZpc2l0IHwgSElWLWV4cG9zZWQgaW5mYW50IGF0dGVuZGluZyBNQ0ggc2VydmljZXMgZm9yIGEgMTItbW9udGggdmlzaXQgCiAqIEhJVi5FLkRFMTc1OiAyNC1tb250aCB2aXNpdCB8IEhJVi1leHBvc2VkIGluZmFudHMgYXR0ZW5kaW5nIE1DSCBzZXJ2aWNlcyBmb3IgYSAyNC1tb250aCB2aXNpdCAKICogSElWLkUuREUxNzY6IEZpcnN0IHZpc2l0IGFmdGVyIHRoZSBlbmQgb2YgYnJlYXN0ZmVlZGluZyB8IEhJVi1leHBvc2VkIGluZmFudCBhdHRlbmRpbmcgTUNIIHNlcnZpY2VzIGZvciBhIGZpcnN0IHZpc2l0IGFmdGVyIHRoZSBlbmQgb2YgYnJlYXN0ZmVlZGluZyAKICogSElWLkguREU0NzogT24gQVJUIHwgQ2xpZW50IGlzIGN1cnJlbnRseSB0YWtpbmcgQVJUIAogKgogKiBBZGRpdGlvbmFsIENvbnRleHQKICogLSB3aGF0IGl0IG1lYXN1cmVzOiBUaGlzIGluZGljYXRvciBtZWFzdXJlcyB0aGUgcHJvZ3JhbW1lJ3MgYWJpbGl0eSB0byByZWR1Y2UgdGhlIHJpc2sgb2YgdHJhbnNtaXNzaW9uIHZpYSBicmVhc3RmZWVkaW5nIChQcm9uZyAzIG9mIHRoZSBQTVRDVCBzdHJhdGVneSkuCiAqIC0gcmF0aW9uYWxlOiDigKLCoEluIG1hbnkgY291bnRyaWVzIHRoZSBhdmVyYWdlIGJyZWFzdGZlZWRpbmcgcGVyaW9kIGlzIDE44oCTMjQgbW9udGhzLiBUaGUgbG9uZyBicmVhc3RmZWVkaW5nIHBlcmlvZCByZXByZXNlbnRzIGFuIGltcG9ydGFudCByaXNrIHBlcmlvZCBmb3IgSElWLWV4cG9zZWQgaW5mYW50cy4gfCDigKLCoEVuc3VyaW5nIHRoYXQgSElWLXBvc2l0aXZlIG1vdGhlcnMgYXJlIHJldGFpbmVkIG9uIEFSVCwgZXNwZWNpYWxseSBkdXJpbmcgdGhlIGJyZWFzdGZlZWRpbmcgcGVyaW9kLCBpcyBjcml0aWNhbCB0byBzdXN0YWluaW5nIHRoZSBoZWFsdGggb2YgdGhlIG1vdGhlciBhbmQgcHJldmVudGluZyBpbmZlY3Rpb24gb2YgaGVyIGluZmFudC4KICogLSBtZXRob2Q6IEZvciB0aGUgbnVtZXJhdG9yOiBQcm9ncmFtbWUgcmVjb3JkcyAoZm9yIGV4YW1wbGUsIFBNVENUIHJlZ2lzdGVycywgQVJUIHJlZ2lzdGVycykuIHwgIHwgRm9yIHRoZSBkZW5vbWluYXRvcjogUHJvZ3JhbW1lIHJlY29yZHMgKGZvciBleGFtcGxlLCBNQ0ggc2VydmljZSByZWNvcmRzKQogKiAKICogU3VnZ2VzdGVkIFNjb3JpbmcgTWV0aG9kOiBwcm9wb3J0aW9uIHwgaHR0cDovL2hsNy5vcmcvZmhpci91cy9jcWZtZWFzdXJlcy9TdHJ1Y3R1cmVEZWZpbml0aW9uL3Byb3BvcnRpb24tbWVhc3VyZS1jcWZtCiAqLwoKbGlicmFyeSBISVZJTkQ0MUxvZ2ljCgovLyBJbmNsdWRlZCBMaWJyYXJpZXMKdXNpbmcgRkhJUiB2ZXJzaW9uICc0LjAuMScKCmluY2x1ZGUgSElWSW5kaWNhdG9yQ29tbW9uIHZlcnNpb24gJzAuMC4xJyBjYWxsZWQgSElDCmluY2x1ZGUgRkhJUkhlbHBlcnMgdmVyc2lvbiAnNC4wLjEnCmluY2x1ZGUgV0hPQ29tbW9uIGNhbGxlZCBXQ29tCmluY2x1ZGUgRkhJUkNvbW1vbiBjYWxsZWQgRkMKCi8vIEluZGljYXRvciBEZWZpbml0aW9uCg=="/>
  </content>
  <content>
    <contentType value="application/elm+xml"/>
  </content>
</Library>